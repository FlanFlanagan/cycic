<!DOCTYPE = HTML>
<html lang="en">
	<title> Cycic GUI </title>
<head>
	<meta charset="utf-8"/>
	<!-- Banner Style Sheet -->
	<link rel="stylesheet" type ="text/css" href="banner.css" />
	<!-- Banner 2 Style Sheet -->
	<link rel="stylesheet" type ="text/css" href="banner2.css" />
	<!-- Sidebar Style Sheet -->
	<link rel="stylesheet" type ="text/css" href="sidebar.css" />
	<!-- Timeline Style Steet -->
	<link rel="stylesheet" type ="text/css" href="timeline.css"/>
	<!-- Stylesheet for custumization -->
	<link rel="stylesheet" type ="text/css" href="style.css"/>
	<!-- Stylesheet for sandbox -->
	<link rel="stylesheet" type ="text/css" href="Sandbox.css"/>
	<!--Google Fonts-->
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Dancing+Script|Antic+Slab"/>
	<!--Bootstrap Pluggins: Not currently in use. Mayhaps in the future.
	<link rel="stylesheet" href="./bootstrap/js/bootstrap.js">
	<!--<link rel="stylesheet" href="./bootstrap/js/bootstrap.min.js">
	<link rel="stylesheet" href="./bootstrap/css/bootstrap.css">
	<!--<link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">-->
	<!--<link rel="stylesheet" href="./bootstrap/css/bootstrap-responsive.css">-->
	<!--<link rel="stylesheet" href="./bootstrap/css/bootstrap-responsive.min.css">-->
	<!--if IE 9-->
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"> </script>
	<script src="http://d3js.org/d3.v2.js"> </script>
	<!-- JavaScript + jQuery-->
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"> </script>
	<script src="timeline-start.js"> </script>
	<script src="script.js"> </script>
</head>

<body>
	<!-- Banner Mark-up -->
	<header id="banner">
		<ul class="menu">
			<li class ="active"><a href="#">File</a>
				<ul>
					<li><a href="#" class="new_project">New Project</a></li>
					<li><a href="#" class="save_project">Save Project</a></li>
					<li><a href="#" class="open_project">Open Project</a></li>
				</ul>
			</li>
			
			<li><a href = "#">Project</a></li>
			<li><a href ="#">Edit</a></li>
			<li><a href ="#">Mode</a>
				<ul>
					<li><a href="#" class="market_mode"> Market Mode </a></li>
					<li><a href="#" class="construction_mode"> Construction Mode</a></li>
					<li><a href="#" class="time_depentent_mode"> Time Dependent Mode</a></li>
				</ul>
			</li>
		</ul>
	</header>
	
	<!-- Banner 2 Mark-up
	<header id="banner2">
		<ul class="menu_2">
			<li class ="active"><a href="#">New Facility Type</a></li>
		</ul>
	</header> -->
	
	<!-- Timeline Mark-up -->
	
	<!-- Sidebar Wrapper Test -->
	<div id="wrapper">
		<ul class="sidebar_menu">
			<li class="regions_type"><a href="#"> Regions <span class = "total" > </span></a>
				<ul>
					<li class="region"><a href="#"> United States </a>
						<ul>
							<li><a> Testing Facility </a></li>
						</ul>
					</li>
					<li class="region"><a href="#"> Country of Texas </a>
						<ul>
							<li><a> Testing Facility 2 </a></li>
							<li><a> Testing Facility 3 </a></li>
						</ul>
					</li>	
					<li><a href="#"> Add New Region </a></li>
				</ul>
			</li>
			<li class="institution_type"><a href="#"> Institutions <span class = "total"> </span></a>
				<ul>
					<li class="institution"><a href="#"> Constellation Energy</a></li>
					<li class="institution"><a href="#"> STP </a></li>
					<li class="institution"><a href="#"> Blah Blah</a></li>
					<li><a href="#"> Add New Institution </a></li>
				</ul>
			</li>
			<li class="market_type"><a href="#"> Markets <span class = "total"> </span></a>
				<ul>
					<li><a href="#"> Add New Market</a></li>
				</ul>
			</li>
			<li class="custom_facilities"><a href="#"> Custom Facilities <span class = "total"> </span></a>
				<ul>
					<li><a style ="cursor:hand; cursor:pointer" onClick = "openNewFacility()"> Storage Facility </a></li>
					<li><a href="#"> Add New Custom Facility </a></li>
				</ul>
			</li>
		</ul>
		<ul class="facilities_menu">
			<li> Facility <a><span class = "total"> </span></a>
				<ul>
					<li><a href ="#"> Add New Facility </a></li>
				</ul>
			</li>
		</ul>
	</div>
	<!-- Sandbox Javascript -->
	<div id ="sandbox">
		
	</div>
	
	<!-- New Custom Facility Button -->
	<script language=JavaScript>
		
	</script>
	
	<!-- Number counters for sidebar -->
	<script language=JavaScript>
		$('ul li ul').each(function(){
		  	$(this).prev('a').find('.total').append('<div>'+ ($(this).find('li').length - $(this).find('li > ul > li').length - 1) +'</div>');
		});
		function openNewFacility(){
			newFacilityWin = window.open("facilityForm.html", "Facility Form", 'width = 400, height = 300, toolbar = yes, location = yes, directories = yes, status = yes, menubar = yes, scrollbars = yes, copyhistory = no, resizable = no')
		}
	</script>
	
	<!-- Hiding the side menus -->
	<script type ="text/javascript">
		$(function(){
			var menu_ul = $('.sidebar_menu > li > ul'), 
				menu_a = $('.sidebar_menu > li > a');
			
			menu_ul.hide();
			
			menu_a.click(function(e){
				e.preventDefault();
				if(!$(this).hasClass('active')) {
					menu_a.removeClass('active');
					/*menu_ul.filter(':visible').slideUp('normal');*/
					$(this).addClass('active').next().stop(true,true).slideDown('normal');
				}
				else{
					$(this).removeClass('active');
					$(this).next().stop(true,true).slideUp('normal');
				}
			});
		});
		
		$(function(){
			var menu_ul_1 = $('.sidebar_menu > li > ul > li > ul'),
				menu_a_1 = $('.sidebar_menu > li > ul > li > a');
			
			menu_ul_1.hide();
			
			menu_a_1.click(function(e){
				e.preventDefault();
				if(!$(this).hasClass('active1')) {
					menu_a_1.removeClass('active1');
					/*menu_ul.filter(':visible').slideUp('normal');*/
					$(this).addClass('active1').next().stop(true,true).slideDown('normal');
					$(this).closest('li').addClass('active_test');
					$('.active_test > ul > li').clone().prependTo($('.facilities_menu > li > ul'));	
				}
				else{
					$(this).removeClass('active1');
					$(this).closest('li').removeClass('active_test');
					$(this).next().stop(true,true).slideUp('normal');
					document.getElementById('wrapper').style.display = 'none';
					$('').replaceAll('.facilities_menu > li > ul > li');
					$('.facilities_menu > li > ul').append('<li><a href = "#"> Add New Facility </a></li>');					
					document.getElementById('wrapper').style.display = 'block';
				}
					
			});	
		});
	</script>
	
</body>
</html>